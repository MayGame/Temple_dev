<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Tests</title>
</head>
<body>
    <button onclick="update_l()">
        update list 
    </button>
    
    <br>
<ol id="a_list1">

</ol>
<h4>Add agent</h4>
<input type="text" name="" id="name_inp">
<button onclick="
name_inp.value
">Add</button>
<h4>Blah blah</h4>
<button onclick="talker_c.actions.chat">Request mem</button>
<script src="../../js/agent.js"></script>
<script>
    //#region 
var w_c={//window's context
agents:['mem_guy']
}
//#endregion
var talker_c={

}
var id_manager=new Agent(//has56 mem, remembers keys
{
    name:"key_master",
     
}
)
var talker_guy=new Agent({//common interface to other agents
name:'talker_guy',
context:talker_c
})
var agent_manager_guy=new Agent(
    //spawns agents from their params names,
    //e.g. name, iface names...
    //MJ descriptor:
    //3
    {
        name:'Manager_san',
        actions:{

        },
        init_interfaces:{
            three:[`console.log('three',k);return this[k]+this._.agent_unsafe_root.interfaces.one[k];`,'','self','two']
        }
    }
)
// JSON.
var mem_guy=new Agent({name:'Mem guy',
actions:{
    oncreate:(instance)=>{
        console.log('meme',instance.name)
    },

    // console.log(window[name]);
    
    // window[name].channels.log('pong')
},
init_interfaces:{
        localStorage:[`return JSON.parse(localStorage.getItem(k));`,`localStorage.setItem(k,JSON.stringify(v));`,'self'],
    }
}   
)

function update_l(){
    var text=''
        w_c.agents.forEach(a=>{
            // text+='<li>'+a+'<button onclick=&quoteping('+'</button>'+'</li>'
            text+=`<li>${a}<button onclick="ping(${a})">ping</button></li>`
        })
        a_list1.innerHTML=text;

}
function ping(agent){
    agent.channels.log('pong')
}

var utility_guy=new Agent(
    {
        name:'utility_guy',
        actions:{

        }
    }
)
var render_guy=new Agent({name:'Rendier',channels:{
    MJ_:function(msg){

    }
}})
var parser_guy=new Agent({name:"Parsifal"})
var empathetic
var person_caring=new Agent({
name:'Temple',
channels:{},

})
</script>  
</body>
</html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>simpl idb</title>
    <script src="simple_client.js"></script>
</head>
<body>
<h4>id gen</h4>
<input type="text" name="" id="id_here_1" placeholder="grab ur id from here">
<input type="text" name="" id="name_to_base_1" onchange="id_here_1.value=text2MJid(this.value)" placeholder="text from here to ID">
<h4>Idb add text entry</h4>
<p>key from above</p>
<textarea name="" id="idb_value_1" cols="30" rows="10" placeholder="value to add"></textarea>
<button onclick="c.F.WordsWrite(id_here_1.value,idb_value_1.value)">add</button><button onclick="id_here_1.value=rid()">rid</button><button onclick="let res = c.F.WordsRead().get(id_here_1.value);res.onsuccess=()=>{
    idb_value_1.value=res.result;
}">load text</button>
<h4>Edit array</h4>
<p>keys, space divided</p>
<input type="text" name="" id="arr_ed_id_1" placeholder="id of array to edit">
<button onclick="
let res = c.F.WordsRead().get(arr_ed_id_1.value);let s=''; res.onsuccess=function(){
    res.result.forEach(e => {
    s+=e+' ';
});
arr_ed_list.value=s;}">Load</button>
<textarea name="" id="arr_ed_list" cols="30" rows="10" placeholder="Keys. add an ID and submit"></textarea>
<button onclick="
let arr = (arr_ed_list.value+'').split(' ');
c.F.WordsWrite(arr_ed_id_1.value,arr);
">submit</button>
<h4>A(B) </h4>
<p>Add link. </p>
<input type="text" placeholder="relation">
<input type="text" placeholder="argument">
<input type="text" placeholder="result id">
<input type="text" placeholder="">
<h4>Json:</h4>
<input type="text" name="" id="id_input_json_1" placeholder="id to load">
<textarea name="" id="json_textarea_1" cols="30" rows="10" placeholder="json representation"></textarea>
<button onclick="
let res = c.F.WordsRead().get(id_input_json_1.value); res.onsuccess=function(){
    let s=JSON.stringify(res.result);
    console.log(s,res.result)
json_textarea_1.value=s;}">load</button>
<script>


function text2MJid(text){
    text = text.replaceAll(/\W/ig,"_")
    return ("M"+Date.now()+text+"________________________").slice(0,32);

}
function rid(){return ('M'+Date.now()+Math.random().toString().replace('.','J')+"BB00BB").substr(0,32);}

</script>  
</body>
</html>